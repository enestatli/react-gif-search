(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){e.exports=n(248)},248:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"OPEN_MODAL",function(){return N}),n.d(a,"CLOSE_MODAL",function(){return S}),n.d(a,"REQUEST_GIFS",function(){return w}),n.d(a,"SIGN_IN_USER",function(){return k}),n.d(a,"SIGN_OUT_USER",function(){return F}),n.d(a,"AUTH_ERROR",function(){return A}),n.d(a,"AUTH_USER",function(){return I}),n.d(a,"FETCH_FAVORITED_GIFS",function(){return C}),n.d(a,"requestGifs",function(){return R}),n.d(a,"favoriteGif",function(){return T}),n.d(a,"unfavoriteGif",function(){return P}),n.d(a,"fetchFavoritedGifs",function(){return D}),n.d(a,"openModal",function(){return M}),n.d(a,"closeModal",function(){return L}),n.d(a,"signUpUser",function(){return x}),n.d(a,"signInUser",function(){return H}),n.d(a,"signOutUser",function(){return q}),n.d(a,"verifyAuth",function(){return Z}),n.d(a,"authUser",function(){return z}),n.d(a,"authError",function(){return W});var r=n(0),i=n.n(r),o=n(41),c=n.n(o),s=n(10),l=n(11),u=n(13),d=n(12),f=n(14),m=n(75),p=n(44),h=n(20),v=n(6),b=n(108),E=n(26),O=n(56),g=n(109),j=n.n(g),y=n(21),G=n.n(y),N="OPEN_MODAL",S="CLOSE_MODAL",w="REQUEST_GIFS",k="SIGN_IN_USER",F="SIGN_OUT_USER",A="AUTH_ERROR",I="AUTH_USER",C="FETCH_FAVORITED_GIFS",U="http://api.giphy.com/v1/gifs/search?q=",_="&api_key=pUgBnXknJ3nYoqLzjuvXAmfsloVH2y3h";function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){j.a.get("".concat(U).concat(e.replace(/\s/g,"+")).concat(_)).then(function(e){t({type:w,payload:e})})}}function T(e){var t=e.selectedGif,n=G.a.auth().currentUser.uid,a=t.id;return function(e){return G.a.database().ref(n).update(Object(O.a)({},a,t))}}function P(e){var t=e.selectedGif,n=G.a.auth().currentUser.uid,a=t.id;return function(e){return G.a.database().ref(n).child(a).remove()}}function D(){return function(e){var t=G.a.auth().currentUser.uid;G.a.database().ref(t).on("value",function(t){e({type:C,payload:t.val()})})}}function M(e){return{type:N,gif:e}}function L(){return{type:S}}function x(e){return function(t){G.a.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(e){t(z())}).catch(function(e){console.log(e),t(W(e))})}}function H(e){return function(t){G.a.auth().signInWithEmailAndPassword(e.email,e.password).then(function(e){t(z())}).catch(function(e){t(W(e))})}}function q(){return function(e){G.a.auth().signOut().then(function(){e({type:F})})}}function Z(){return function(e){G.a.auth().onAuthStateChanged(function(t){e(t?z():q())})}}function z(){return{type:I}}function W(e){return{type:A,payload:e}}G.a.initializeApp({apiKey:"AIzaSyDflIg_aCyNZMRx5WyC6UjUIsNErl4NXXs",authDomain:"causal-guide-239415.firebaseapp.com",databaseURL:"https://causal-guide-239415.firebaseio.com"});var X={authenticated:!1,error:null};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(E.a)({},e,{authenticated:!0,error:null});case F:return Object(E.a)({},e,{authenticated:!1,error:null});case A:return Object(E.a)({},e,{error:t.payload.message});default:return e}}var V={data:[],favorites:[]};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(E.a)({},e,{data:t.payload.body.data});case C:var n=[];for(var a in t.payload)t.payload.hasOwnProperty(a)&&n.push(t.payload[a]);return Object(E.a)({},e,{favorites:n});default:return e}}var Q={selectedGif:null,modalIsOpen:!1};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(E.a)({},e,{modalIsOpen:!0,selectedGif:t.gif.selectedGif});case S:return Object(E.a)({},e,{modalIsOpen:!1,selectedGif:null});default:return e}}var K=n(254),Y=function(e){return Object(v.c)({auth:J,form:K.a,gifs:B,modal:$,router:Object(p.b)(e)})},ee=n(18),te=n(94),ne=Object(ee.a)();var ae=n(7),re=n(38),ie=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleSignout",value:function(){this.props.signOutUser()}},{key:"renderAuthLinks",value:function(){var e=this;return this.props.authenticated?[i.a.createElement("li",{className:"nav-item",key:1},i.a.createElement(re.a,{className:"nav-link",to:"/favorites"},"My Favorites")),i.a.createElement("li",{className:"nav-item",key:2},i.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){return e.handleSignout()}},"Sign Out"))]:[i.a.createElement("li",{className:"nav-item",key:1},i.a.createElement(re.a,{className:"nav-link",to:"/login"},"Login")),i.a.createElement("li",{className:"nav-item",key:2},i.a.createElement(re.a,{className:"nav-link",to:"/signup"},"Sign Up"))]}},{key:"render",value:function(){return i.a.createElement("nav",{className:"navbar navbar-default"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"navbar-header"},i.a.createElement(re.a,{to:"/",className:"navbar-brand"},"React2Gifs")),i.a.createElement("ul",{className:"nav navbar-nav navbar-right"},this.renderAuthLinks())))}}]),t}(i.a.Component);var oe=Object(ae.c)(function(e){return{authenticated:e.auth.authenticated}},a)(ie),ce=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderFavoriteHeart=function(){return n.props.isAuthenticated?n.state.favorited?i.a.createElement("i",{className:"favorite fa fa-heart",onClick:function(){return n.unfavoriteGif()}}):i.a.createElement("i",{className:"favorite fa fa-heart-o",onClick:function(){return n.favoriteGif()}}):""},n.state={favorited:n.props.isFavorite},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"favoriteGif",value:function(){this.setState({favorited:!0}),this.props.onFavoriteSelect(this.props.gif)}},{key:"unfavoriteGif",value:function(){this.setState({favorited:!1}),this.props.onFavoriteDeselect(this.props.gif)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"gif-item"},this.renderFavoriteHeart(),i.a.createElement("img",{src:this.props.gif.images.downsized.url,onClick:function(){return e.props.onGifSelect(e.props.gif)}}))}}]),t}(i.a.Component),se=function(e){var t=e.gifs.map(function(t){return i.a.createElement(ce,{key:t.id,gif:t,onGifSelect:e.onGifSelect,onFavoriteSelect:e.onFavoriteSelect,onFavoriteDeselect:e.onFavoriteDeselect,isAuthenticated:e.isAuthenticated,isFavorite:e.isFavorite})});return i.a.createElement("div",{className:"gif-list"},t)},le=n(114),ue=n.n(le),de=function(e){return e.selectedGif?i.a.createElement(ue.a,{isOpen:e.modalIsOpen,onRequestClose:function(){return e.onRequestClose()},ariaHideApp:!1},i.a.createElement("div",{className:"gif-modal"},i.a.createElement("img",{src:e.selectedGif.images.original.url,alt:e.selectedGif.images.original.url}),i.a.createElement("p",null,i.a.createElement("strong",null,"Source:")," ",i.a.createElement("a",{href:e.selectedGif.source},e.selectedGif.source)),i.a.createElement("p",null,i.a.createElement("strong",null,"Rating:")," ",e.selectedGif.rating),i.a.createElement("button",{onClick:function(){return e.onRequestClose()}},"Close"))):i.a.createElement("div",null)},fe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.props.onTermChange(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"search"},i.a.createElement("input",{placeholder:"Enter text to search for gifs!",onChange:function(t){return e.onInputChange(t.target.value)}}))}}]),t}(i.a.Component),me=(n(97),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(fe,{onTermChange:this.props.actions.requestGifs}),i.a.createElement(se,{gifs:this.props.gifs,onGifSelect:function(t){return e.props.actions.openModal({selectedGif:t})},onFavoriteSelect:function(t){return e.props.actions.favoriteGif({selectedGif:t})},onFavoriteDeselect:function(t){return e.props.actions.unfavoriteGif({selectedGif:t})},isAuthenticated:this.props.authenticated}),i.a.createElement(de,{modalIsOpen:this.props.modalIsOpen,selectedGif:this.props.selectedGif,onRequestClose:function(){return e.props.actions.closeModal()}}))}}]),t}(i.a.Component));var pe=Object(ae.c)(function(e){return{authenticated:e.auth.authenticated,gifs:e.gifs.data,modalIsOpen:e.modal.modalIsOpen,selectedGif:e.modal.selectedGif}},function(e){return{actions:Object(v.b)(a,e)}})(me),he=n(253),ve=n(252),be=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e){n.props.signUpUser(e)},n.renderField=function(e){var t=e.input,n=e.label,a=e.type,r=e.meta,o=r.touched,c=r.error;return i.a.createElement("fieldset",{className:"form-group ".concat(o&&c?"has-error":"")},i.a.createElement("label",{className:"control-label"},n),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},t,{placeholder:n,className:"form-control",type:a})),o&&c&&i.a.createElement("div",{className:"help-block"},c)))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderAuthenticationError",value:function(){return this.props.authenticationError?i.a.createElement("div",{className:"alert alert-danger"},this.props.authenticationError):i.a.createElement("div",null)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col-md-6 col-md-offset-3"},i.a.createElement("h2",{className:"text-center"},"Sign Up"),this.renderAuthenticationError(),i.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},i.a.createElement(he.a,{name:"email",type:"text",component:this.renderField,label:"Email"}),i.a.createElement(he.a,{name:"password",type:"password",component:this.renderField,label:"Password"}),i.a.createElement(he.a,{name:"passwordConfirmation",type:"password",component:this.renderField,label:"Password Confirmation"}),i.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Sign up"))))}}]),t}(i.a.Component);var Ee=Object(ae.c)(function(e){return{authenticationError:e.auth.error}},a)(Object(ve.a)({form:"signup",validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Please enter an email.",e.password||(t.password="Please enter a password."),e.passwordConfirmation||(t.passwordConfirmation="Please enter a password confirmation."),e.password!==e.passwordConfirmation&&(t.password="Passwords do not match"),t}})(be)),Oe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e){n.props.signInUser(e)},n.renderField=function(e){var t=e.input,n=e.label,a=e.type,r=e.meta,o=r.touched,c=r.error;return i.a.createElement("fieldset",{className:"form-group ".concat(o&&c?"has-error":"")},i.a.createElement("label",{className:"control-label"},n),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},t,{placeholder:n,className:"form-control",type:a})),o&&c&&i.a.createElement("div",{className:"help-block"},c)))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderAuthenticationError",value:function(){return this.props.authenticationError?i.a.createElement("div",{className:"alert alert-danger"},this.props.authenticationError):i.a.createElement("div",null)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col-md-6 col-md-offset-3"},i.a.createElement("h2",{className:"text-center"},"Log In"),this.renderAuthenticationError(),i.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},i.a.createElement(he.a,{name:"email",component:this.renderField,className:"form-control",type:"text",label:"Email"}),i.a.createElement(he.a,{name:"password",component:this.renderField,className:"form-control",type:"password",label:"Password"}),i.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Sign In"))))}}]),t}(i.a.Component);var ge=Object(ae.c)(function(e){return{authenticationError:e.auth.error}},a)(Object(ve.a)({form:"login",validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Please enter an email.",e.password||(t.password="Please enter a password."),t}})(Oe)),je=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.actions.fetchFavoritedGifs()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(se,{gifs:this.props.gifs,onGifSelect:function(t){return e.props.actions.openModal({selectedGif:t})},onFavoriteSelect:function(t){return e.props.actions.favoriteGif({selectedGif:t})},onFavoriteDeselect:function(t){return e.props.actions.unfavoriteGif({selectedGif:t})},isAuthenticated:this.props.authenticated,isFavorite:!0}),i.a.createElement(de,{modalIsOpen:this.props.modalIsOpen,selectedGif:this.props.selectedGif,onRequestClose:function(){return e.props.actions.closeModal()}}))}}]),t}(i.a.Component);var ye=Object(ae.c)(function(e){return{authenticated:e.auth.authenticated,gifs:e.gifs.favorites,modalIsOpen:e.modal.modalIsOpen,selectedGif:e.modal.selectedGif}},function(e){return{actions:Object(v.b)(a,e)}})(je),Ge=function(e){var t=e.component,n=e.authenticated,a=Object(m.a)(e,["component","authenticated"]);return i.a.createElement(h.b,Object.assign({},a,{render:function(e){return!0===n?i.a.createElement(t,e):i.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ne=function(e){var t=e.component,n=e.authenticated,a=Object(m.a)(e,["component","authenticated"]);return i.a.createElement(h.b,Object.assign({},a,{render:function(e){return!1===n?i.a.createElement(t,e):i.a.createElement(h.a,{to:"/favorites"})}}))},Se=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{history:ne},i.a.createElement("div",null,i.a.createElement(oe,null),i.a.createElement("div",{className:"container"},i.a.createElement(h.b,{exact:!0,path:"/",component:pe}),i.a.createElement(Ne,{authenticated:this.props.authenticated,path:"/signup",component:Ee}),i.a.createElement(Ne,{authenticated:this.props.authenticated,path:"/login",component:ge}),i.a.createElement(Ge,{authenticated:this.props.authenticated,path:"/favorites",component:ye}))))}}]),t}(i.a.Component),we=Object(ae.c)(function(e){return{authenticated:e.auth.authenticated}})(Se),ke=function(e){var t=Object(v.e)(Y(ne),e,Object(v.d)(Object(v.a)(b.a,Object(te.a)(ne)),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return t.dispatch(Z()),t}();c.a.render(i.a.createElement(ae.a,{store:ke},i.a.createElement(we,null)),document.getElementById("root"))},97:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.1d8647ff.chunk.js.map